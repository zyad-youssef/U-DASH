{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"className\"];\nimport React, { memo, useRef, useState, useEffect, useCallback } from 'react';\nimport cx from 'classnames';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { Button, IconButton } from '../../buttons';\nimport absolutePositions from '../../constants/src/AbsolutePosition';\nimport positions from '../../constants/src/Position';\nimport { CrossIcon } from '../../icons';\nimport { Pane, Card } from '../../layers';\nimport { Portal } from '../../portal';\nimport { Paragraph, Heading } from '../../typography';\nvar animationEasing = {\n  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',\n  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'\n};\nvar ANIMATION_DURATION = 240;\nvar openAnimation = css.keyframes('openAnimation', {\n  from: {\n    transform: 'translateY(100%)'\n  },\n  to: {\n    transform: 'translateY(0)'\n  }\n});\nvar closeAnimation = css.keyframes('closeAnimation', {\n  from: {\n    transform: 'scale(1)',\n    opacity: 1\n  },\n  to: {\n    transform: 'scale(0.9)',\n    opacity: 0\n  }\n});\nvar animationStyles = {\n  '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n    animation: \"\".concat(openAnimation, \" \").concat(ANIMATION_DURATION, \"ms \").concat(animationEasing.spring, \" both\")\n  },\n  '&[data-state=\"exiting\"]': {\n    animation: \"\".concat(closeAnimation, \" 120ms \").concat(animationEasing.acceleration, \" both\")\n  }\n};\n\nvar closeHandler = function closeHandler(close) {\n  return close();\n};\n\nvar noop = function noop() {};\n\nvar emptyProps = {};\nvar CornerDialog = /*#__PURE__*/memo(function CornerDialog(props) {\n  var title = props.title,\n      _props$width = props.width,\n      width = _props$width === void 0 ? 448 : _props$width,\n      children = props.children,\n      _props$intent = props.intent,\n      intent = _props$intent === void 0 ? 'none' : _props$intent,\n      isShown = props.isShown,\n      _props$hasFooter = props.hasFooter,\n      hasFooter = _props$hasFooter === void 0 ? true : _props$hasFooter,\n      _props$hasCancel = props.hasCancel,\n      hasCancel = _props$hasCancel === void 0 ? true : _props$hasCancel,\n      _props$hasClose = props.hasClose,\n      hasClose = _props$hasClose === void 0 ? true : _props$hasClose,\n      _props$cancelLabel = props.cancelLabel,\n      cancelLabel = _props$cancelLabel === void 0 ? 'Close' : _props$cancelLabel,\n      _props$confirmLabel = props.confirmLabel,\n      confirmLabel = _props$confirmLabel === void 0 ? 'Learn More' : _props$confirmLabel,\n      onOpenComplete = props.onOpenComplete,\n      _props$onCloseComplet = props.onCloseComplete,\n      onCloseComplete = _props$onCloseComplet === void 0 ? noop : _props$onCloseComplet,\n      _props$onCancel = props.onCancel,\n      onCancel = _props$onCancel === void 0 ? closeHandler : _props$onCancel,\n      _props$onConfirm = props.onConfirm,\n      onConfirm = _props$onConfirm === void 0 ? closeHandler : _props$onConfirm,\n      _props$containerProps = props.containerProps,\n      containerProps = _props$containerProps === void 0 ? emptyProps : _props$containerProps,\n      _props$position = props.position,\n      position = _props$position === void 0 ? positions.BOTTOM_RIGHT : _props$position;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      exiting = _useState2[0],\n      setExiting = _useState2[1];\n\n  var _useState3 = useState(!props.isShown),\n      _useState4 = _slicedToArray(_useState3, 2),\n      exited = _useState4[0],\n      setExited = _useState4[1];\n\n  var transitionRef = useRef(null);\n  useEffect(function () {\n    if (isShown) {\n      setExited(false);\n    }\n  }, [isShown]);\n  var handleExited = useCallback(function () {\n    setExiting(false);\n    setExited(true);\n    onCloseComplete();\n  }, [onCloseComplete]);\n  var handleClose = useCallback(function () {\n    return setExiting(true);\n  }, []);\n  var handleCancel = useCallback(function () {\n    onCancel(handleClose);\n  }, [onCancel, handleClose]);\n  var handleConfirm = useCallback(function () {\n    onConfirm(handleClose);\n  }, [onConfirm, handleClose]);\n  var renderChildren = useCallback(function () {\n    if (typeof children === 'function') {\n      return children({\n        close: handleClose\n      });\n    }\n\n    if (typeof children === 'string') {\n      return /*#__PURE__*/React.createElement(Paragraph, {\n        size: 400,\n        color: \"muted\"\n      }, children);\n    }\n\n    return children;\n  }, [children, handleClose]);\n\n  if (exited) {\n    return null;\n  }\n\n  var containerClassName = containerProps.className,\n      remainingContainerProps = _objectWithoutProperties(containerProps, _excluded);\n\n  return /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(Transition, {\n    nodeRef: transitionRef,\n    appear: true,\n    unmountOnExit: true,\n    timeout: ANIMATION_DURATION,\n    \"in\": isShown && !exiting,\n    onExited: handleExited,\n    onEntered: onOpenComplete\n  }, function (state) {\n    return /*#__PURE__*/React.createElement(Card, _extends({\n      ref: transitionRef,\n      role: \"dialog\",\n      backgroundColor: \"white\",\n      elevation: 4,\n      width: width,\n      className: cx(css(animationStyles).toString(), containerClassName),\n      \"data-state\": state,\n      padding: 32,\n      position: \"fixed\"\n    }, absolutePositions[Object.keys(absolutePositions).includes(position) ? position : positions.BOTTOM_RIGHT], remainingContainerProps), /*#__PURE__*/React.createElement(Pane, {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginBottom: 12\n    }, /*#__PURE__*/React.createElement(Heading, {\n      is: \"h4\",\n      size: 600,\n      flex: \"1\"\n    }, title), hasClose && /*#__PURE__*/React.createElement(IconButton, {\n      icon: CrossIcon,\n      appearance: \"minimal\",\n      onClick: handleClose\n    })), /*#__PURE__*/React.createElement(Pane, {\n      overflowY: \"auto\",\n      \"data-state\": state\n    }, renderChildren()), hasFooter && /*#__PURE__*/React.createElement(Pane, {\n      marginTop: 24,\n      flexShrink: 0,\n      display: \"flex\",\n      flexDirection: \"row-reverse\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      appearance: \"primary\",\n      intent: intent,\n      marginLeft: 8,\n      onClick: handleConfirm\n    }, confirmLabel), hasCancel && /*#__PURE__*/React.createElement(Button, {\n      onClick: handleCancel\n    }, cancelLabel)));\n  }));\n});\nCornerDialog.propTypes = {\n  /**\n   * Children can be a string, node or a function accepting `({ close })`.\n   * When passing a string, <Paragraph size={400} color=\"muted\" /> is used to wrap the string.\n   */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n  /**\n   * The intent of the CornerDialog. Used for the button.\n   */\n  intent: PropTypes.string,\n\n  /**\n   * When true, the dialog is shown.\n   */\n  isShown: PropTypes.bool,\n\n  /**\n   * Title of the Dialog. Titles should use Title Case.\n   */\n  title: PropTypes.node,\n\n  /**\n   * Function that will be called when the exit transition is complete.\n   */\n  onCloseComplete: PropTypes.func,\n\n  /**\n   * Function that will be called when the enter transition is complete.\n   */\n  onOpenComplete: PropTypes.func,\n\n  /**\n   * When true, the footer with the cancel and confirm button is shown.\n   */\n  hasFooter: PropTypes.bool,\n\n  /**\n   * Function that will be called when the confirm button is clicked.\n   * This does not close the Dialog. A close function will be passed\n   * as a paramater you can use to close the dialog.\n   *\n   * `onConfirm={(close) => close()}`\n   */\n  onConfirm: PropTypes.func,\n\n  /**\n   * Label of the confirm button.\n   */\n  confirmLabel: PropTypes.string,\n\n  /**\n   * When true, the cancel button is shown.\n   */\n  hasCancel: PropTypes.bool,\n\n  /**\n   * When true, the close button is shown.\n   */\n  hasClose: PropTypes.bool,\n\n  /**\n   * Function that will be called when the cancel button is clicked.\n   * This closes the Dialog by default.\n   *\n   * `onCancel={(close) => close()}`\n   */\n  onCancel: PropTypes.func,\n\n  /**\n   * Label of the cancel button.\n   */\n  cancelLabel: PropTypes.string,\n\n  /**\n   * Width of the Dialog.\n   */\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * Props that are passed to the dialog container.\n   */\n  containerProps: PropTypes.object,\n\n  /**\n   * Props that will set position of corner dialog\n   */\n  position: PropTypes.oneOf([positions.TOP_LEFT, positions.TOP_RIGHT, positions.BOTTOM_LEFT, positions.BOTTOM_RIGHT])\n};\nexport default CornerDialog;","map":null,"metadata":{},"sourceType":"module"}